!function(){var e,t,r={1684:function(e,t,r){"use strict";var n=i(r(3636)),o=i(r(1776));function i(e){return e&&e.__esModule?e:{default:e}}window.document.addEventListener("DOMContentLoaded",(()=>{(0,n.default)(),(0,o.default)()}))},3636:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(9936)),o=m(r(5824)),i=m(r(3816)),s=m(r(2856)),a=m(r(2380)),l=m(r(3864)),u=m(r(4780)),c=m(r(7764)),d=m(r(6212)),f=m(r(1060)),p=m(r(1896)),h=m(r(312)),v=m(r(5168));function m(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{n.default.component.register("SnapshotViewer",o.default),n.default.component.register("SnapshotViewerContainer",i.default),n.default.component.register("SnapshotHistoryViewer",o.default),n.default.component.register("SnapshotRollbackMutation",v.default),n.default.component.registerMany({SnapshotHistoryViewerHeading:s.default,SnapshotHistoryViewerToolbar:a.default,SnapshotHistoryViewerVersion:l.default,SnapshotHistoryViewerVersionDetail:u.default,SnapshotHistoryViewerVersionList:c.default,SnapshotHistoryViewerVersionState:d.default,SnapshotHistoryViewerSnapshotState:f.default,SnapshotHistoryViewerSnapshot:p.default,SnapshotHistoryViewerCompareWarning:h.default},{force:!0})}},1776:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(9936)),o=r(5328),i=s(r(5256));function s(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{n.default.reducer.register("versionedAdmin",(0,o.combineReducers)({historyViewer:i.default}),{force:!0})}},5824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VERSION_MODE_VERSION=t.VERSION_MODE_DATE=t.Component=void 0;var n=g(r(6376)),o=r(5328),i=r(1295),s=y(r(3736)),a=y(r(7122)),l=r(9936),u=y(r(9870)),c=r(6736),d=r(360),f=r(9768),p=y(r(7820)),h=y(r(160)),v=g(r(7114)),m=y(r(5336));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}t.VERSION_MODE_VERSION="VERSION",t.VERSION_MODE_DATE="DATE";class _ extends n.Component{constructor(e){super(e),this.handleSetPage=this.handleSetPage.bind(this),this.handleNextPage=this.handleNextPage.bind(this),this.handlePrevPage=this.handlePrevPage.bind(this)}componentDidUpdate(e){const{page:t}=e,{page:r,actions:{versions:n}}=this.props;t!==r&&"function"==typeof n.goToPage&&n.goToPage(r)}componentWillUnmount(){const{onSelect:e}=this.props;"function"==typeof e&&e(!1)}getVersions(){const{versions:e}=this.props;return(e&&e.snapshotHistory&&e.snapshotHistory.edges?e.snapshotHistory.edges:[]).map((e=>e.node)).map((t=>({...t,...t.originVersion,author:{...t.author},absoluteLink:t.isFullVersion&&t.originVersion?t.originVersion.absoluteLink:e.absoluteLink,version:t.isFullVersion&&t.originVersion?t.originVersion.version:t.baseVersion})))}getContainerClasses(){const{compare:e,isInGridField:t}=this.props;return(0,p.default)("history-viewer","fill-height",{"history-viewer__compare-mode":e,"history-viewer--no-margins":t&&!this.isListView()})}getLatestVersion(){const{currentVersion:e}=this.props;if(e&&!0===e.latestDraftVersion)return e;const t=this.getVersions().filter((e=>!0===e.latestDraftVersion));return t.length?t[0]:null}isListView(){const{compare:e,currentVersion:t}=this.props;return!t||!!e&&!(!e.versionFrom||e.versionTo)}handleSetPage(e){const{onSetPage:t}=this.props;"number"!=typeof e||isNaN(e)||e<1||"function"==typeof t&&t(e)}handleNextPage(){const{page:e}=this.props;this.handleSetPage(e+1)}handlePrevPage(){const{page:e}=this.props;e<=1?this.handleSetPage(1):this.handleSetPage(e-1)}compareModeAvailable(){return this.getVersions().length>1}renderVersionDetail(){const{currentVersion:e,isPreviewable:t,recordId:r,recordClass:o,typeName:i,schemaUrl:s,VersionDetailComponent:a,compare:l,compare:{versionFrom:u=!1,versionTo:c=!1},previewState:d}=this.props,f={":id":r,":class":o,":date":"",":version":""};f[":date"]=e.lastEdited;const p={":id":r,":class":o,":from":u.version||0,":to":c.version||0},v=l?/:id|:class|:from|:to/g:/:id|:class|:version|:date/g,m=l?p:f,y=l?u:e,b=this.getLatestVersion(),g={isLatestVersion:!l&&b&&b.version===y.version,isPreviewable:t,recordId:r,typeName:i,schemaUrl:s.replace(v,(e=>m[e])),version:y,compare:l,compareModeAvailable:this.compareModeAvailable(),previewState:d};return n.default.createElement(h.default,{className:this.getContainerClasses(),onResize:e=>{let{width:t}=e;return this.props.onResize(t)}},n.default.createElement(a,g))}renderPagination(){const{limit:e,page:t,versions:r}=this.props;if(!r)return null;const o=r.snapshotHistory?r.snapshotHistory.pageInfo.totalCount:0;if(o<=e)return null;const i=Math.ceil(o/e),s=Array.from({length:i},((e,t)=>t+1));return n.default.createElement("div",{className:"griddle-footer"},n.default.createElement("ul",{className:"pagination"},n.default.createElement("li",{className:"page-item "+(1===t?"disabled":"")},n.default.createElement("button",{className:"page-link",onClick:t>1?()=>this.handleSetPage(t-1):null,disabled:1===t},a.default._t("HistoryViewer.PREVIOUS","Previous"))),s.map((e=>n.default.createElement("li",{key:e,className:"page-item "+(e===t?"active":"")},n.default.createElement("button",{className:"page-link",onClick:()=>this.handleSetPage(e)},e)))),n.default.createElement("li",{className:"page-item "+(t===i?"disabled":"")},n.default.createElement("button",{className:"page-link",onClick:t<i?()=>this.handleSetPage(t+1):null,disabled:t===i},a.default._t("HistoryViewer.NEXT","Next")))))}renderComparisonSelectionList(){const{compare:{versionFrom:e},ListComponent:t}=this.props;if(!e)return null;const r=(0,p.default)("history-viewer__table","history-viewer__table--comparison-selected");return n.default.createElement(t,{versions:[e],extraClass:r})}renderVersionList(){const{isInGridField:e,ListComponent:t,CompareWarningComponent:r,compare:o,compare:{versionFrom:i}}=this.props;return n.default.createElement("div",{className:this.getContainerClasses()},n.default.createElement(r,null),n.default.createElement("div",{className:e?"":"panel panel--padded panel--scrollable"},this.renderComparisonSelectionList(),n.default.createElement(t,{versions:this.getVersions(),showHeader:!o||o&&!i,compareModeAvailable:this.compareModeAvailable()}),n.default.createElement("div",{className:"history-viewer__pagination"},this.renderPagination())))}renderCompareMode(){const{compare:e}=this.props;return e&&e.versionFrom&&e.versionTo?this.renderVersionDetail():this.renderVersionList()}render(){const{loading:e,compare:t,previewMode:r}=this.props;return e?n.default.createElement(u.default,null):this.compareModeAvailable()&&t?this.renderCompareMode():r?this.renderVersionDetail():this.renderVersionList()}}t.Component=_,_.propTypes={contextKey:m.default.string,limit:m.default.number,ListComponent:m.default.oneOfType([m.default.node,m.default.func]).isRequired,offset:m.default.number,recordId:m.default.number.isRequired,recordClass:m.default.string.isRequired,typeName:m.default.string.isRequired,currentVersion:m.default.oneOfType([m.default.bool,d.versionType]),compare:f.compareType,isInGridField:m.default.bool,isPreviewable:m.default.bool,VersionDetailComponent:m.default.oneOfType([m.default.node,m.default.func]).isRequired,CompareWarningComponent:m.default.oneOfType([m.default.node,m.default.func]).isRequired,versions:m.default.shape({versions:m.default.shape({pageInfo:m.default.shape({totalCount:m.default.number}),edges:m.default.arrayOf(m.default.shape({node:d.versionType}))})}),page:m.default.number,schemaUrl:m.default.string,previewState:m.default.oneOf(["edit","preview","split"]),actions:m.default.object,onSelect:m.default.func,onSetPage:m.default.func,onResize:m.default.func},_.defaultProps={compare:{},contextKey:"",currentVersion:!1,isInGridField:!1,isPreviewable:!1,typeName:"",schemaUrl:"",versions:{versions:{pageInfo:{totalCount:0},edges:[]}}};t.default=(0,o.compose)((0,i.connect)((function(e){const{currentPage:t,currentVersion:r,previewMode:n,compare:o}=e.versionedAdmin.historyViewer,{activeState:i}=e.viewMode;return{page:t,currentVersion:r,compare:o,previewMode:n,previewState:i}}),(function(e){return{onSelect(t){e((0,c.showVersion)(t)),e((0,c.clearMessages)())},onSetPage(t){e((0,c.setCurrentPage)(t))},onResize(t){e(v.enableOrDisableSplitMode(t))}}})),s.default,(0,l.inject)(["SnapshotHistoryViewerVersionList","SnapshotHistoryViewerVersionDetail","SnapshotHistoryViewerCompareWarning"],((e,t,r)=>({ListComponent:e,VersionDetailComponent:t,CompareWarningComponent:r})),(e=>{let{contextKey:t}=e;return`VersionedAdmin.HistoryViewer.${t}`})))(_)},312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=l(r(5336)),i=r(1295),s=l(r(7122)),a=r(6736);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}class c extends n.Component{constructor(e){super(e),this.handleDismissCompare=this.handleDismissCompare.bind(this)}handleDismissCompare(){this.props.onDismissCompare()}render(){return this.props.isCompare?n.default.createElement("div",{className:"history-viewer__compare-notice alert alert-info"},n.default.createElement("span",{className:"notice-message"},n.default.createElement("strong",null,s.default._t("HistoryViewer.COMPARE_MODE","Compare mode"),": "),s.default._t("HistoryViewer.SELECT_PROMPT","Select two versions")),n.default.createElement("button",{className:"btn dismiss-button font-icon-cancel",onClick:this.handleDismissCompare},s.default._t("HistoryViewer.EXIT","Exit"))):null}}c.propTypes={isCompare:o.default.bool.isRequired};t.default=(0,i.connect)((function(e){const{compare:t}=e.versionedAdmin.historyViewer;return{isCompare:!!t}}),(function(e){return{onDismissCompare(){e((0,a.setCompareMode)(!1))}}}))(c)},2856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=d(r(7122)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),i=r(8368),s=r(6736),a=r(5328),l=r(1295),u=d(r(5336));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}class f extends o.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.handleCompareModeChange=this.handleCompareModeChange.bind(this),this.state={dropdownOpen:!1}}toggle(){this.setState((e=>({dropdownOpen:!e.dropdownOpen})))}handleCompareModeChange(){const{compareModeSelected:e,onCompareModeUnselect:t,onCompareModeSelect:r}=this.props;e?t():r()}renderDropdown(){const{compareModeAvailable:e,compareModeSelected:t}=this.props,{dropdownOpen:r}=this.state;return e?o.default.createElement(i.Dropdown,{isOpen:r,toggle:this.toggle,className:"history-viewer__actions-dropdown"},o.default.createElement(i.DropdownToggle,{className:"font-icon-sliders"}),o.default.createElement(i.DropdownMenu,{right:!0},o.default.createElement("div",{className:"form-check"},o.default.createElement("input",{id:"history-viewer-compare-two",type:"checkbox",className:"no-change-track history-viewer-heading__compare-mode-checkbox",checked:t,onChange:this.handleCompareModeChange}),o.default.createElement("label",{className:"form-check-label",htmlFor:"history-viewer-compare-two"},n.default._t("HistoryViewerHeading.COMPARE_VERSIONS","Compare two versions"))))):null}render(){return o.default.createElement("li",{className:"history-viewer__heading",role:"row"},o.default.createElement("span",{className:"history-viewer__version-state",role:"columnheader"},n.default._t("HistoryViewer.Date","Date")),o.default.createElement("span",{className:"history-viewer__message",role:"columnheader"},n.default._t("HistoryViewer.Activity","Activity")),o.default.createElement("span",{className:"history-viewer__author",role:"columnheader"},n.default._t("HistoryViewer.Author","Author")),o.default.createElement("span",{className:"history-viewer__actions",role:"columnheader"},this.renderDropdown()))}}t.Component=f,f.propTypes={compareModeAvailable:u.default.bool,compareModeSelected:u.default.bool,onCompareModeSelect:u.default.func,onCompareModeUnselect:u.default.func},f.defaultProps={compareModeAvailable:!0};t.default=(0,a.compose)((0,l.connect)((function(e){return{compareModeSelected:!!e.versionedAdmin.historyViewer.compare}}),(function(e){return{onCompareModeSelect(){e((0,s.setCompareMode)(!0))},onCompareModeUnselect(){e((0,s.setCompareMode)(!1))}}})))(f)},1896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=p(r(5336)),i=r(9936),s=p(r(7122)),a=r(5328),l=r(1295),u=r(6736),c=p(r(7820)),d=r(360),f=p(r(3995));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}class v extends n.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClose=this.handleClose.bind(this)}getClassNames(){const{extraClass:e,initial:t,isComparing:r,isActive:n}=this.props,o={"history-viewer__row":!0,"history-viewer__snapshot":!0,"history-viewer__row--current":n,"history-viewer__snapshot--initial":t,"history-viewer__snapshot--muted":r};return(0,c.default)(o,e)}handleClick(){const{onSelect:e,version:t,isActive:r}=this.props;return r||e(t),!1}handleClose(e){return e.stopPropagation(),this.props.onSelect(!1),!1}handleKeyUp(e){13===e.keyCode&&this.handleClick()}render(){const{version:e,StateComponent:t,FormActionComponent:r,isComparing:o,isActive:i}=this.props,{author:{firstName:a,surname:l}}=e,u=`${a||""} ${l||""}`,c=s.default._t("HistoryViewerSnapshot.GO_TO_SNAPSHOT","Go to snapshot at {date}");return n.default.createElement("li",{className:this.getClassNames(),role:"row"},n.default.createElement("span",{className:"history-viewer__version-link",role:"button",title:s.default.inject(c,{date:e.lastEdited}),onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:o?-1:0},n.default.createElement("span",{className:"history-viewer__message",role:"cell"},n.default.createElement("span",null,e.activityAgo)," ",n.default.createElement("small",{className:"text-muted"},(0,f.default)(e))),n.default.createElement(t,{version:e}),n.default.createElement("span",{className:"history-viewer__author",role:"cell"},u),n.default.createElement("span",{className:"history-viewer__actions",role:"cell"},i&&n.default.createElement(r,{onClick:this.handleClose,icon:"cancel",attributes:{title:s.default._t("HistoryViewerVersion.CLOSE","Close")},title:null,buttonStyle:"outline-light",extraClass:"history-viewer__close-button"}))))}}v.propTypes={isActive:o.default.bool,version:d.versionType,initial:o.default.bool,isComparing:o.default.bool};t.default=(0,a.compose)((0,l.connect)(null,(function(e){return{onSelect(t){const r=t.isFullVersion?u.showVersion:u.showDate;e(r(t)),e((0,u.clearMessages)())}}})),(0,i.inject)(["FormAction","SnapshotHistoryViewerSnapshotState"],((e,t)=>({FormActionComponent:e,StateComponent:t}))))(v)},1060:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n,o=r(9936),i=(n=r(6376))&&n.__esModule?n:{default:n},s=r(6212);class a extends s.Component{translateType(e){const{i18n:t}=window;switch(e){case"MODIFIED":return t._t("HistoryViewerSnapshot.MODIFIED","Edited");case"DELETED":return t._t("HistoryViewerSnapshot.DELETED","Archived");case"CREATED":return t._t("HistoryViewerSnapshot.CREATED","Created");case"ADDED":return t._t("HistoryViewerSnapshot.ADDED","Added");case"REMOVED":return t._t("HistoryViewerSnapshot.REMOVED","Removed");case"UNPUBLISHED":return t._t("HistoryViewerSnapshot.UNPUBLISHED","Unpublished");case"PUBLISHED":return t._t("HistoryViewerSnapshot.PUBLISHED","Published");default:return""}}getPublishedState(){const{activityDescription:e,activityType:t}=this.props.version,r=this.translateType(t),n=e.split("\n");return n.length>1?n.map(((e,t)=>i.default.createElement("div",{key:t},e))):`${r} ${e}`}getBadges(){return null}}t.Component=a;t.default=(0,o.inject)(["Badge"],(e=>({BadgeComponent:e})))(a)},2380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=d(r(5336)),i=r(5328),s=r(1295),a=d(r(7122)),l=r(9936),u=r(6736),c=r(8368);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}class p extends n.Component{constructor(e){super(e),this.handleRevert=this.handleRevert.bind(this),this.state={isReverting:!1,tooltipTimer:null}}handleRevert(e){const{onAfterRevert:t,recordId:r,versionId:n}=this.props;this.setState({isReverting:!0});const o="function"==typeof t?t:()=>{};return e({variables:{id:r,toVersion:n}}).then((()=>o(n)))}render(){const{FormActionComponent:e,ViewModeComponent:t,RollbackMutation:r,isLatestVersion:o,isPreviewable:i,canRollback:s,rollbackMessage:l,typeName:u}=this.props,{isReverting:d}=this.state;let f="";return d?f=a.default._t("HistoryViewerToolbar.REVERT_IN_PROGRESS","Revert in progress..."):o&&(f=a.default._t("HistoryViewerToolbar.REVERT_UNAVAILABLE","Unavailable for the current version")),n.default.createElement(r,{typeName:u},(r=>n.default.createElement("div",{className:"toolbar toolbar--south"},n.default.createElement("div",{className:"btn-toolbar"},n.default.createElement(e,{id:"HistoryRevertButton",onClick:()=>this.handleRevert(r),icon:"back-in-time",name:"revert",attributes:{title:f},data:{buttonStyle:"warning"},disabled:o||d||!s,loading:d,title:a.default._t("HistoryViewerToolbar.REVERT_TO_VERSION","Revert to this version")}),!s&&n.default.createElement(c.UncontrolledTooltip,{trigger:"click hover focus",placement:"top",target:"HistoryRevertButton"},l),i&&n.default.createElement(t,{id:"history-viewer-edit-mode",area:"edit"})))))}}t.Component=p,p.propTypes={actions:o.default.shape({revertToVersion:o.default.func.isRequired}),FormActionComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,ViewModeComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,isLatestVersion:o.default.bool,isPreviewable:o.default.bool,onAfterRevert:o.default.func,recordId:o.default.number.isRequired,typeName:o.default.string.isRequired,versionId:o.default.number.isRequired,canRollback:o.default.bool,rollbackMessage:o.default.string},p.defaultProps={isLatestVersion:!1,isPreviewable:!1,canRollback:!0};t.default=(0,i.compose)((0,s.connect)(null,(function(e){return{onAfterRevert(t){e((0,u.addMessage)(a.default.sprintf(a.default._t("HistoryViewerToolbar.REVERTED_MESSAGE","Successfully reverted to version %s"),t))),e((0,u.showList)())}}})),(0,l.inject)(["FormAction","ViewModeToggle","SnapshotRollbackMutation"],((e,t,r)=>({FormActionComponent:e,ViewModeComponent:t,RollbackMutation:r})),(()=>"VersionedAdmin.HistoryViewer.Toolbar")))(p)},3864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=h(r(5336)),i=r(5328),s=r(1295),a=r(9936),l=r(360),u=r(9768),c=h(r(7122)),d=h(r(7820)),f=r(6736),p=h(r(3995));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}class m extends n.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleClose=this.handleClose.bind(this),this.handleCompare=this.handleCompare.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}getAuthor(){const{version:{author:e}}=this.props;return`${e.firstName||""} ${e.surname||""}`}getClassNames(){const{extraClass:e,isActive:t,compare:r,compare:{compareFrom:n,compareTo:o}}=this.props,i={"history-viewer__row":!0,"history-viewer__row--current":t,"history-viewer__row--comparison-selected":r&&!(n&&o)};return(0,d.default)(i,e)}handleKeyUp(e){13===e.keyCode&&this.handleClick()}handleClick(){const{onSelect:e,version:t,isActive:r,compare:n}=this.props;return r||e(t,n),!1}handleCompare(){const{onCompareMode:e,version:t}=this.props;e(t)}handleClose(){const{onSelect:e,version:t,compare:r,compare:{versionFrom:n}}=this.props;n&&n.version===t.version&&delete r.versionFrom,e(0,r)}renderCompareButton(){const{compareModeAvailable:e,compare:t,FormActionComponent:r}=this.props,o=c.default._t("HistoryViewerVersion.COMPARE","Compare");return!e||t?null:n.default.createElement(r,{onClick:this.handleCompare,title:o,buttonStyle:"outline-light",extraClass:"history-viewer__compare-button"},o)}renderClearButton(){const{FormActionComponent:e,isActive:t}=this.props;return t?n.default.createElement(e,{onClick:this.handleClose,icon:"cancel",attributes:{title:c.default._t("HistoryViewerVersion.CLOSE","Close")},title:null,buttonStyle:"outline-light",extraClass:"history-viewer__close-button"}):null}renderSelectedMessage(){const{isActive:e}=this.props;return e?n.default.createElement("span",{className:"history-viewer__selected-message"},c.default._t("HistoryViewerVersion.SELECTED","Already selected")):null}renderActions(){const{isActive:e,compare:t}=this.props;return e||t?n.default.createElement("span",{className:"history-viewer__actions",role:"cell"},this.renderCompareButton(),this.renderSelectedMessage(),this.renderClearButton()):n.default.createElement("span",{className:"history-viewer__actions",role:"cell"})}render(){const{version:e,isActive:t,StateComponent:r}=this.props,o=c.default._t("HistoryViewerVersion.GO_TO_VERSION","Go to version {version}");return n.default.createElement("li",{className:this.getClassNames(),role:"row"},n.default.createElement("span",{className:"history-viewer__version-link",role:"button",title:c.default.inject(o,{version:e.version}),onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0},n.default.createElement("span",{className:"history-viewer__message",role:"cell"},n.default.createElement("span",null,e.activityAgo)," ",n.default.createElement("small",{className:"text-muted"},(0,p.default)(e))),n.default.createElement(r,{version:e,isActive:t}),n.default.createElement("span",{className:"history-viewer__author",role:"cell"},this.getAuthor()),this.renderActions()))}}t.Component=m,m.propTypes={extraClass:o.default.oneOfType([o.default.string,o.default.array,o.default.object]),version:l.versionType,isActive:o.default.bool,onSelect:o.default.func,onCompareMode:o.default.func,compare:u.compareType,compareModeAvailable:o.default.bool,StateComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,FormActionComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired},m.defaultProps={isActive:!1,version:l.defaultVersion,compare:!1,compareModeAvailable:!0};t.default=(0,i.compose)((0,s.connect)(null,(function(e){return{onSelect(t,r){const{versionFrom:n}=r;r?e(n?(0,f.setCompareTo)(t):(0,f.setCompareFrom)(t)):(e((0,f.showVersion)(t)),e((0,f.clearMessages)()))},onCompareMode(t){e((0,f.setCompareFrom)(t)),e((0,f.setCompareMode)(!0))}}})),(0,a.inject)(["SnapshotHistoryViewerVersionState","FormAction"],((e,t)=>({StateComponent:e,FormActionComponent:t})),(e=>{let{version:t}=e,r="VersionedAdmin.HistoryViewer.HistoryViewerVersion";return t&&(r+=`.${t.version}`),r})))(m)},4780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=c(r(7820)),i=c(r(4756)),s=r(9936),a=r(360),l=c(r(5336)),u=c(r(7122));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}class f extends n.PureComponent{componentWillMount(){this.toggleToolbarClass(!0)}componentWillReceiveProps(e){e.previewState!==this.props.previewState&&this.toggleToolbarClass("split"===e.previewState)}componentWillUnmount(){this.toggleToolbarClass(!1)}getListVersions(){const{compare:e,version:t}=this.props;return this.isCompareMode()?[e.versionTo,e.versionFrom]:[t]}isPreviewable(){const{isPreviewable:e}=this.props;return e&&!this.isCompareMode()}isCompareMode(){const{compare:e}=this.props;return e&&e.versionFrom&&e.versionTo}toggleToolbarClass(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=document.querySelector(".CMSPageHistoryViewerController div:not(.cms-content-tools) .cms-content-header"),r="history-viewer__toolbar--condensed";t&&this.isPreviewable()&&(e?t.classList.add(r):t.classList.remove(r))}renderPreview(){const{version:e,PreviewComponent:t,previewState:r}=this.props;return this.isPreviewable()&&"edit"!==r?n.default.createElement("div",{className:"history-viewer-preview flexbox-area-grow"},n.default.createElement("div",{className:"history-viewer-preview__underlay"},n.default.createElement("div",{className:"history-viewer-preview__spinner"}),u.default._t("HistoryViewerVersionDetail.LOADING_PREVIEW","Generating preview...")),n.default.createElement(t,{className:"history-viewer-preview__frame flexbox-area-grow",itemLinks:{preview:{Stage:{href:`${e.AbsoluteLink}&archiveDate=${e.lastEdited}`,type:"text/html"}}},itemId:e.version})):null}renderToolbar(){const{ToolbarComponent:e,isLatestVersion:t,recordId:r,version:o,typeName:i}=this.props;if(this.isCompareMode())return null;const s=u.default._t("HistoryViewerVersionDetail.CANNOT_ROLLBACK_SNAPSHOTS","You can only revert to base versions");return n.default.createElement(e,{identifier:"HistoryViewer.VersionDetail.Toolbar",isLatestVersion:t,recordId:r,typeName:i,versionId:o.version,isPreviewable:this.isPreviewable(),canRollback:o.isFullVersion,rollbackMessage:s})}renderDetails(){const{compareModeAvailable:e,ListComponent:t,schemaUrl:r,CompareWarningComponent:s,previewState:a,version:l}=this.props;if(this.isPreviewable()&&"preview"===a)return null;const u={"history-viewer__table":!0,"history-viewer__table--current":!0,"history-viewer__table--compare":this.isCompareMode()},c={"history-viewer__version-detail":!0,"history-viewer__version-detail--compare":this.isCompareMode()};return n.default.createElement("div",{className:"flexbox-area-grow fill-height"},n.default.createElement("div",{className:(0,o.default)(["flexbox-area-grow","panel","panel--scrollable","panel--padded","panel--padded-side"])},n.default.createElement(t,{extraClass:(0,o.default)(u),versions:this.getListVersions(),compareModeAvailable:e}),n.default.createElement("div",{className:(0,o.default)(c)},n.default.createElement(i.default,{identifier:`HistoryViewer.VersionDetail.${l.id}`,schemaUrl:r,refetchSchemaOnMount:!1}))),this.renderToolbar(),n.default.createElement(s,{fixed:!0}))}render(){return n.default.createElement("div",{className:"flexbox-area-grow fill-width"},this.renderDetails(),this.renderPreview())}}t.Component=f,f.propTypes={isLatestVersion:l.default.bool,isPreviewable:l.default.bool,ListComponent:l.default.oneOfType([l.default.node,l.default.func]).isRequired,PreviewComponent:l.default.oneOfType([l.default.node,l.default.func]),recordId:l.default.number.isRequired,typeName:l.default.string.isRequired,schemaUrl:l.default.string.isRequired,ToolbarComponent:l.default.oneOfType([l.default.node,l.default.func]).isRequired,version:a.versionType,compare:l.default.oneOfType([l.default.shape({versionFrom:a.versionType,versionTo:a.versionType}),l.default.bool]),previewState:l.default.oneOf(["edit","preview","split"])},f.defaultProps={isLatestVersion:!1,isPreviewable:!1,compare:!1};t.default=(0,s.inject)(["SnapshotHistoryViewerVersionList","SnapshotHistoryViewerToolbar","Preview","SnapshotHistoryViewerCompareWarning"],((e,t,r,n)=>({ListComponent:e,ToolbarComponent:t,PreviewComponent:r,CompareWarningComponent:n})),((e,t)=>{let{version:r}=e;return`${t}.HistoryViewerVersionDetail.${r.version}`}))(f)},7764:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=p(r(5336)),i=p(r(7820)),s=p(r(7122)),a=r(1295),l=r(5328),u=r(9936),c=r(140),d=r(360),f=r(9768);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}class v extends n.PureComponent{getClassNames(){const{extraClass:e,showHeader:t}=this.props;return(0,i.default)(e,{table:!0,"history-viewer__table--headerless":!t})}isVersionActive(e){const{currentVersion:t,compare:r,compare:{versionFrom:n,versionTo:o}}=this.props,i=t&&t.id===e.id,s=n&&n.id===e.id,a=o&&o.id===e.id;return!r&&i||s||a}renderMessages(){const{FormAlertComponent:e,messages:t}=this.props;return t.length?n.default.createElement("div",{className:"history-viewer__messages"},t.map((t=>n.default.createElement(e,{key:t.id,type:t.type,value:t.message,closeLabel:s.default._t("HistoryViewerVersionList.CLOSE","Close")})))):null}renderHeader(){const{showHeader:e,HeadingComponent:t,compareModeAvailable:r}=this.props;if(!e)return null;const o={compareModeAvailable:r};return n.default.createElement(t,o)}render(){const{VersionComponent:e,SnapshotComponent:t,versions:r,compareModeAvailable:o,compare:i}=this.props;return n.default.createElement("div",{className:"history-viewer__list"},n.default.createElement("ul",{className:this.getClassNames(),role:"table"},this.renderHeader(),r.map(((r,s)=>r.isFullVersion?n.default.createElement(e,{key:`${r.id}--${r.lastEdited}`,isActive:this.isVersionActive(r),version:r,compare:i,compareModeAvailable:o}):n.default.createElement(t,{isComparing:!!i,key:`${r.id}--${r.lastEdited}`,isActive:this.isVersionActive(r),version:r,initial:s<1})))))}}t.Component=v,v.propTypes={extraClass:o.default.oneOfType([o.default.string,o.default.array,o.default.object]),showHeader:o.default.bool,FormAlertComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,HeadingComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,messages:o.default.arrayOf(c.messageType),VersionComponent:o.default.oneOfType([o.default.node,o.default.func]).isRequired,versions:o.default.arrayOf(d.versionType),compare:f.compareType,compareModeAvailable:o.default.bool},v.defaultProps={compareModeAvailable:!0,extraClass:"history-viewer__table",messages:[],showHeader:!0,versions:[]};t.default=(0,l.compose)((0,a.connect)((function(e){const{messages:t,compare:r,currentVersion:n}=e.versionedAdmin.historyViewer;return{messages:t,compare:r,currentVersion:n}})),(0,u.inject)(["FormAlert","SnapshotHistoryViewerHeading","SnapshotHistoryViewerVersion","SnapshotHistoryViewerSnapshot"],((e,t,r,n)=>({FormAlertComponent:e,HeadingComponent:t,VersionComponent:r,SnapshotComponent:n})),(()=>"VersionedAdmin.HistoryViewer.HistoryViewerVersionList")))(v)},6212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=u(r(7820)),i=u(r(7122)),s=r(360),a=r(9936),l=u(r(5336));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}class d extends n.Component{getClassNames(){const{extraClass:e}=this.props;return(0,o.default)("history-viewer__version-state",e)}getPublishedState(){const{version:e}=this.props;return"PUBLISHED"===e.activityType?i.default._t("HistoryViewer.Published","Published"):"UNPUBLISHED"===e.activityType?i.default._t("HistoryViewer.Unpublished","Unpublished"):i.default._t("HistoryViewer.Saved","Saved")}getBadges(){const{version:e,isActive:t,BadgeComponent:r}=this.props;return e.isLiveSnapshot?n.default.createElement(r,{status:"success",message:i.default._t("HistoryViewer.BadgeLive","Live"),className:"",inverted:t}):""}render(){return n.default.createElement("span",{className:this.getClassNames(),role:"cell"},this.getPublishedState()," "," ",this.getBadges())}}t.Component=d,d.propTypes={version:s.versionType,extraClass:l.default.string,isActive:l.default.bool,BadgeComponent:l.default.oneOfType([l.default.node,l.default.func]).isRequired},d.defaultProps={version:s.defaultVersion,extraClass:"",isActive:!1};t.default=(0,a.inject)(["Badge"],(e=>({BadgeComponent:e})),(e=>{let{version:t}=e;return`HistoryViewer.HistoryViewerVersionState.${t.version}`}))(d)},5168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),i=r(5724),s=(n=r(2612))&&n.__esModule?n:{default:n};function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}t.default=e=>{let{typeName:t,children:r}=e;const n=(0,o.useMemo)((()=>(0,s.default)(t)),[t]);return o.default.createElement(i.Mutation,{mutation:n,refetchQueries:[`ReadSnapshots${t}`]},r)}},3816:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),o=l(r(5336)),i=r(5724),s=r(9936),a=l(r(4043));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const c=e=>{let{data:{typeName:t,recordId:r,limit:o,page:s,recordClass:l,isPreviewable:u,actions:c={versions:{}}},SnapshotViewerComponent:d}=e;const f=(0,n.useMemo)((()=>(0,a.default)(t,u)),[t,u]),p={limit:o,offset:((s||1)-1)*o,page_id:r};return n.default.createElement(i.Query,{query:f,variables:p,fetchPolicy:"network-only"},(e=>{let{loading:i,error:a,data:u,refetch:f}=e,p=null;u&&(p=u[`readOne${t}`]);const h=p||{},v={loading:i,versions:h,graphQLErrors:a&&a.graphQLErrors&&a.graphQLErrors.map((e=>e.message)),actions:{...c,versions:{...h,goToPage(e){f({offset:((e||1)-1)*o,limit:o,page_id:r})}}},recordId:r,recordClass:l,typeName:t,limit:o,page:s};return n.default.createElement(d,v)}))};c.propTypes={data:o.default.shape({typeName:o.default.string.isRequired,recordId:o.default.number.isRequired,limit:o.default.number,page:o.default.number,actions:o.default.object})};t.default=(0,s.inject)(["SnapshotViewer"],(e=>({SnapshotViewerComponent:e})),(e=>{let{contextKey:t}=e;return`VersionedAdmin.HistoryViewer.${t}`}))(c)},160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6376)),i=(n=r(9628))&&n.__esModule?n:{default:n};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.default=e=>{let{children:t,className:r,onResize:n}=e;const[s,a]=(0,i.default)();return(0,o.useEffect)((()=>{n({width:a?.width,height:a?.height})}),[a?.width,a?.height]),o.default.createElement("div",{className:r},s,t)}},3736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(6376)),o=s(r(3024)),i=r(9936);function s(e){return e&&e.__esModule?e:{default:e}}t.default=e=>{class t extends n.default.Component{getConfig(){return o.default.getSection("SilverStripe\\VersionedAdmin\\Controllers\\HistoryViewerController")}getSchemaUrlDetails(){const{compare:e}=this.props;return e?{formName:"compareForm",queryParts:["RecordVersionFrom=:from","RecordVersionTo=:to"]}:{formName:"versionForm",queryParts:["RecordVersion=:version","RecordDate=:date"]}}getSchemaUrl(){const e=this.getConfig(),{formName:t,queryParts:r}=this.getSchemaUrlDetails();return`${`${e.form[t].schemaUrl}/:id`}?${r.concat("RecordClass=:class&RecordID=:id").join("&")}`}render(){const t={...this.props,config:this.getConfig(),HistoryViewer:e,schemaUrl:this.getSchemaUrl()};return n.default.createElement(e,t)}}return(0,i.inject)(["SnapshotHistoryViewer"])(t)}},2612:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(912))&&n.__esModule?n:{default:n};t.default=e=>o.default`
  mutation rollback${e}($id:ID!, $toVersion:Int!) {
    rollback${e}(
      id: $id
      toVersion: $toVersion
    ) {
      id
      className
    }
  }
  `},4043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(912))&&n.__esModule?n:{default:n};t.default=(e,t)=>o.default`
    query ReadSnapshots${e} ($page_id: ID!, $limit: Int!, $offset: Int!) {
        readOne${e}(
          filter: { id: { eq: $page_id } }
        ) {
        ... on ${e} {
            id
            ${t?"absoluteLink":""}
            snapshotHistory (limit: $limit, offset: $offset) {
              pageInfo {
                totalCount
              }
              edges {
                node {
                  id
                  lastEdited
                  activityDescription
                  activityType
                  activityAgo
                  isFullVersion
                  isLiveSnapshot
                  baseVersion
                  message
                  author {
                    firstName
                    surname
                  }
                  originVersion {
                    version
                    ${t?"absoluteLink":""}
                    author {
                      firstName
                      surname
                    }

                    published
                    publisher {
                      firstName
                      surname
                    }
                    latestDraftVersion
                  }
                }
              }
            }
          }
        }
      }

    `},3995:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(7122)),o=i(r(9822));function i(e){return e&&e.__esModule?e:{default:e}}t.default=e=>(o.default.locale(n.default.detectLocale()),(0,o.default)(e.lastEdited).format("L LT"))},4144:function(e,t,r){"use strict";var n;((n=r(4232))&&n.__esModule?n:{default:n}).default.entwine("ss",(e=>{e(".ArchiveAdmin__action--restore").entwine({onmatch(){e(this).attr("readonly",!1),e(this).attr("disabled",!1)}}),e(".ArchiveAdmin .other-model-selector select").entwine({onchange(t){t.preventDefault();let r=e(this).val();const n=e(this).data("others-archive-url");if(r){r=r.replace(/\\/g,"-");const t=n+r;e(".cms-container").loadPanel(t,"",{pjax:"CurrentForm"})}}})}))},2896:function(e,t,r){"use strict";var n=a(r(4232)),o=a(r(6376)),i=a(r(704)),s=r(9936);function a(e){return e&&e.__esModule?e:{default:e}}n.default.entwine("ss",(e=>{e(".js-injector-boot .snapshot-history-viewer__container").entwine({ReactRoot:null,onmatch(){const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},r=(0,s.loadComponent)("SnapshotViewerContainer",t),n=this.data("schema"),a={data:n.data,isInGridField:n.data.isInGridField||!this.hasClass("history-viewer--standalone")};let l=this.getReactRoot();l||(l=i.default.createRoot(this[0])),l.render(o.default.createElement(r,a)),this.setReactRoot(l)},onunmatch(){const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))}}),e(".history-viewer__version-detail .nav-link").entwine({onclick(e){e.preventDefault(),this._super(e)}}),e(".tab.tab--history-viewer[aria-hidden=false]").entwine({onmatch(){e(".toolbar--south.cms-content-actions").hide()},onunmatch(){e(".toolbar--south.cms-content-actions").show()}}),e(".tab.tab--history-viewer .history-viewer__version-detail").entwine({onmatch(){this.parent().css("padding-bottom","3rem").next(".toolbar--south").css({position:"absolute",bottom:0,left:0,right:0})}})}))},9344:function(e,t,r){"use strict";var n=o(r(7122));function o(e){return e&&e.__esModule?e:{default:e}}o(r(4232)).default.entwine("ss",(e=>{e(".cms-edit-form .btn-toolbar #Form_ItemEditForm_action_doUnpublish").entwine({onclick(e){const t=n.default._t("VersionedEditForm.PUBLISH_CONFIRM_MESSAGE","Are you sure you want to remove your record from the published site?\n\nThis record will still be available in the CMS as draft.");return!!confirm(t)&&(this.parents("form:first").addClass("loading"),this._super(e))}}),e(".cms-edit-form .btn-toolbar #Form_ItemEditForm_action_doArchive").entwine({onclick(e){const t=n.default._t("VersionedEditForm.ARCHIVE_CONFIRM_MESSAGE","Warning: This record will be unpublished before being sent to the archive.\n\nAre you sure you want to proceed?");return!!confirm(t)&&(this.parents("form:first").addClass("loading"),this._super(e))}})}))},6548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["SHOW_VERSION","SHOW_DATE","SHOW_LIST","SET_CURRENT_PAGE","ADD_MESSAGE","CLEAR_MESSAGES","SET_COMPARE_MODE","SET_COMPARE_FROM","SET_COMPARE_TO"].reduce(((e,t)=>Object.assign(e,{[t]:`HISTORY_VIEWER.${t}`})),{})},6736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMessage=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{type:i.default.ADD_MESSAGE,payload:{id:(0,o.v1)(),message:e,type:t}}},t.clearMessages=function(){return{type:i.default.CLEAR_MESSAGES}},t.setCompareFrom=function(e){return{type:i.default.SET_COMPARE_FROM,payload:{version:e}}},t.setCompareMode=function(e){return{type:i.default.SET_COMPARE_MODE,payload:{enabled:e}}},t.setCompareTo=function(e){return{type:i.default.SET_COMPARE_TO,payload:{version:e}}},t.setCurrentPage=function(e){return{type:i.default.SET_CURRENT_PAGE,payload:{page:e}}},t.showDate=function(e){return{type:i.default.SHOW_DATE,payload:{version:e}}},t.showList=function(){return{type:i.default.SHOW_LIST}},t.showVersion=function(e){return{type:i.default.SHOW_VERSION,payload:{version:e}}};var n,o=r(6156),i=(n=r(6548))&&n.__esModule?n:{default:n}},5256:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,{type:t,payload:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case s.default.SET_CURRENT_PAGE:return{...e,currentPage:r.page};case s.default.SHOW_VERSION:{const{version:t}=r;return{...e,previewMode:t&&i.VERSION_MODE_VERSION,currentVersion:t}}case s.default.SHOW_DATE:{const{version:t}=r;return{...e,previewMode:t&&i.VERSION_MODE_DATE,currentVersion:t}}case s.default.SHOW_LIST:return{...e,currentVersion:!1,currentDate:!1,previewMode:!1,currentPage:0};case s.default.ADD_MESSAGE:return{...e,messages:[r,...e.messages]};case s.default.CLEAR_MESSAGES:return{...e,messages:[]};case s.default.SET_COMPARE_MODE:{const t={versionFrom:!1,versionTo:!1,...e.compare};return{...e,compare:!!r.enabled&&t,previewMode:!!r.enabled&&e.previewMode}}case s.default.SET_COMPARE_FROM:{let{compare:{versionFrom:t,versionTo:n}}=e;return t=r.version||!1,t||(t=n,n=!1),{...e,currentVersion:t,compare:{versionFrom:t,versionTo:n}}}case s.default.SET_COMPARE_TO:{let{compare:{versionFrom:t,versionTo:n}}=e;return n=r.version||!1,n&&t&&n.version<t.version&&(t=n,n=e.compare.versionFrom),{...e,currentVersion:t,compare:{versionFrom:t,versionTo:n}}}default:return e}};var n,o=r(9768),i=r(5824),s=(n=r(6548))&&n.__esModule?n:{default:n};const a={currentPage:1,previewMode:!1,currentVersion:!1,compare:o.defaultCompare,loading:!1,messages:[]}},9768:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCompare=t.compareType=void 0;var n,o=(n=r(5336))&&n.__esModule?n:{default:n},i=r(360);t.compareType=o.default.oneOfType([o.default.bool,o.default.shape({versionFrom:i.versionType,versionTo:i.versionType})]),t.defaultCompare=!1},140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messageType=void 0;var n,o=(n=r(5336))&&n.__esModule?n:{default:n};t.messageType=o.default.shape({id:o.default.string,message:o.default.string,type:o.default.oneOf(["error","info","success","warning"])})},360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionType=t.defaultVersion=void 0;var n,o=(n=r(5336))&&n.__esModule?n:{default:n};const i=o.default.shape({firstName:o.default.string,surname:o.default.string});t.versionType=o.default.shape({version:o.default.number,absoluteLink:o.default.string,lastEdited:o.default.string,published:o.default.boolean,liveVersion:o.default.boolean,latestDraftVersion:o.default.boolean,message:o.default.string,publisher:i,author:i}),t.defaultVersion={version:0,absoluteLink:"",lastEdited:"",published:!1,liveVersion:!1,latestDraftVersion:!1,message:"",publisher:{firstName:"",surname:""},author:{firstName:"",surname:""}}},4824:function(e,t,r){var n=r(5824),o=r(9128);void 0===o.SnapshotsViewer&&(o.SnapshotsViewer=n),e.exports=n},4548:function(e,t,r){var n=r(360),o=r(9128);void 0===o.versionType&&(o.versionType=n),e.exports=n},9128:function(e,t,r){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==r.g)return r.g}return e}()},4808:function(e,t,r){"use strict";var n=r(6376),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:a.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},7624:function(e,t,r){"use strict";e.exports=r(4808)},4616:function(e,t,r){"use strict";e.exports=r(6376)},6156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(6864)),o=f(r(9220)),i=f(r(4680)),s=f(r(2232)),a=f(r(2812)),l=f(r(5156)),u=f(r(2548)),c=f(r(5616)),d=f(r(2629));function f(e){return e&&e.__esModule?e:{default:e}}},1052:function(e,t){"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,o,i,s){return n((a=n(n(t,e),n(o,s)))<<(l=i)|a>>>32-l,r);var a,l}function i(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function s(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function l(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let o=0;o<r;o+=8){const r=e[o>>5]>>>o%32&255,i=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let o=1732584193,u=-271733879,c=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=o,f=u,p=c,h=d;o=i(o,u,c,d,e[t],7,-680876936),d=i(d,o,u,c,e[t+1],12,-389564586),c=i(c,d,o,u,e[t+2],17,606105819),u=i(u,c,d,o,e[t+3],22,-1044525330),o=i(o,u,c,d,e[t+4],7,-176418897),d=i(d,o,u,c,e[t+5],12,1200080426),c=i(c,d,o,u,e[t+6],17,-1473231341),u=i(u,c,d,o,e[t+7],22,-45705983),o=i(o,u,c,d,e[t+8],7,1770035416),d=i(d,o,u,c,e[t+9],12,-1958414417),c=i(c,d,o,u,e[t+10],17,-42063),u=i(u,c,d,o,e[t+11],22,-1990404162),o=i(o,u,c,d,e[t+12],7,1804603682),d=i(d,o,u,c,e[t+13],12,-40341101),c=i(c,d,o,u,e[t+14],17,-1502002290),u=i(u,c,d,o,e[t+15],22,1236535329),o=s(o,u,c,d,e[t+1],5,-165796510),d=s(d,o,u,c,e[t+6],9,-1069501632),c=s(c,d,o,u,e[t+11],14,643717713),u=s(u,c,d,o,e[t],20,-373897302),o=s(o,u,c,d,e[t+5],5,-701558691),d=s(d,o,u,c,e[t+10],9,38016083),c=s(c,d,o,u,e[t+15],14,-660478335),u=s(u,c,d,o,e[t+4],20,-405537848),o=s(o,u,c,d,e[t+9],5,568446438),d=s(d,o,u,c,e[t+14],9,-1019803690),c=s(c,d,o,u,e[t+3],14,-187363961),u=s(u,c,d,o,e[t+8],20,1163531501),o=s(o,u,c,d,e[t+13],5,-1444681467),d=s(d,o,u,c,e[t+2],9,-51403784),c=s(c,d,o,u,e[t+7],14,1735328473),u=s(u,c,d,o,e[t+12],20,-1926607734),o=a(o,u,c,d,e[t+5],4,-378558),d=a(d,o,u,c,e[t+8],11,-2022574463),c=a(c,d,o,u,e[t+11],16,1839030562),u=a(u,c,d,o,e[t+14],23,-35309556),o=a(o,u,c,d,e[t+1],4,-1530992060),d=a(d,o,u,c,e[t+4],11,1272893353),c=a(c,d,o,u,e[t+7],16,-155497632),u=a(u,c,d,o,e[t+10],23,-1094730640),o=a(o,u,c,d,e[t+13],4,681279174),d=a(d,o,u,c,e[t],11,-358537222),c=a(c,d,o,u,e[t+3],16,-722521979),u=a(u,c,d,o,e[t+6],23,76029189),o=a(o,u,c,d,e[t+9],4,-640364487),d=a(d,o,u,c,e[t+12],11,-421815835),c=a(c,d,o,u,e[t+15],16,530742520),u=a(u,c,d,o,e[t+2],23,-995338651),o=l(o,u,c,d,e[t],6,-198630844),d=l(d,o,u,c,e[t+7],10,1126891415),c=l(c,d,o,u,e[t+14],15,-1416354905),u=l(u,c,d,o,e[t+5],21,-57434055),o=l(o,u,c,d,e[t+12],6,1700485571),d=l(d,o,u,c,e[t+3],10,-1894986606),c=l(c,d,o,u,e[t+10],15,-1051523),u=l(u,c,d,o,e[t+1],21,-2054922799),o=l(o,u,c,d,e[t+8],6,1873313359),d=l(d,o,u,c,e[t+15],10,-30611744),c=l(c,d,o,u,e[t+6],15,-1560198380),u=l(u,c,d,o,e[t+13],21,1309151649),o=l(o,u,c,d,e[t+4],6,-145523070),d=l(d,o,u,c,e[t+11],10,-1120210379),c=l(c,d,o,u,e[t+2],15,718787259),u=l(u,c,d,o,e[t+9],21,-343485551),o=n(o,r),u=n(u,f),c=n(c,p),d=n(d,h)}return[o,u,c,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=u},872:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},2812:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},2629:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2548))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=i},3872:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},1840:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},8880:function(e,t){"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const i=e.length/4+2,s=Math.ceil(i/16),a=new Array(s);for(let t=0;t<s;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=a[e][t];for(let e=16;e<80;++e)i[e]=n(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let s=o[0],l=o[1],u=o[2],c=o[3],d=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),a=n(s,5)+r(o,l,u,c)+d+t[o]+i[e]>>>0;d=c,c=u,u=n(l,30)>>>0,l=s,s=a}o[0]=o[0]+s>>>0,o[1]=o[1]+l>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+c>>>0,o[4]=o[4]+d>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};t.default=o},5616:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,o=(n=r(2548))&&n.__esModule?n:{default:n};const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function s(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}var a=function(e,t=0){const r=s(e,t);if(!(0,o.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=a},6864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(1840))&&n.__esModule?n:{default:n},i=r(5616);let s,a,l=0,u=0;var c=function(e,t,r){let n=t&&r||0;const c=t||new Array(16);let d=(e=e||{}).node||s,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){const t=e.random||(e.rng||o.default)();null==d&&(d=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=a=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1;const v=p-l+(h-u)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||p>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,u=h,a=f,p+=122192928e5;const m=(1e4*(268435455&p)+h)%4294967296;c[n++]=m>>>24&255,c[n++]=m>>>16&255,c[n++]=m>>>8&255,c[n++]=255&m;const y=p/4294967296*1e4&268435455;c[n++]=y>>>8&255,c[n++]=255&y,c[n++]=y>>>24&15|16,c[n++]=y>>>16&255,c[n++]=f>>>8|128,c[n++]=255&f;for(let e=0;e<6;++e)c[n+e]=d[e];return t||(0,i.unsafeStringify)(c)};t.default=c},9220:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(120)),o=i(r(1052));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,o.default);t.default=s},120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,s,a){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,i.default)(n)),16!==(null===(l=n)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=u[e];return s}return(0,o.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=s,n.URL=a,n};var n,o=r(5616),i=(n=r(2629))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},4680:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(872)),o=s(r(1840)),i=r(5616);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const s=(e=e||{}).random||(e.rng||o.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.unsafeStringify)(s)};t.default=a},2232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(120)),o=i(r(8880));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,o.default);t.default=s},2548:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(3872))&&n.__esModule?n:{default:n};var i=function(e){return"string"==typeof e&&o.default.test(e)};t.default=i},5156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2548))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=i},3024:function(e){"use strict";e.exports=Config},4756:function(e){"use strict";e.exports=FormBuilderLoader},912:function(e){"use strict";e.exports=GraphQLTag},9936:function(e){"use strict";e.exports=Injector},9870:function(e){"use strict";e.exports=Loading},5336:function(e){"use strict";e.exports=PropTypes},6376:function(e){"use strict";e.exports=React},704:function(e){"use strict";e.exports=ReactDomClient},1295:function(e){"use strict";e.exports=ReactRedux},8368:function(e){"use strict";e.exports=Reactstrap},5328:function(e){"use strict";e.exports=Redux},7114:function(e){"use strict";e.exports=ViewModeActions},7820:function(e){"use strict";e.exports=classnames},7122:function(e){"use strict";e.exports=i18n},4232:function(e){"use strict";e.exports=jQuery},9822:function(e){"use strict";e.exports=moment},9628:function(e,t,r){var n=r(6376),o=r(7624);function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,t}var s=i(n),a={display:"block",opacity:0,position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:-1,maxHeight:"inherit",maxWidth:"inherit"},l=function(e){var t=e.onResize,r=s.useRef();return function(e,t){var r=function(){return e.current&&e.current.contentDocument&&e.current.contentDocument.defaultView};function n(){t();var e=r();e&&e.addEventListener("resize",t)}s.useEffect((function(){return r()?n():e.current&&"addEventListener"in e.current&&e.current.addEventListener("load",n),function(){var e=r();null!=e&&e&&"function"==typeof e.removeEventListener&&e.removeEventListener("resize",t)}}),[])}(r,(function(){return t(r)})),o.jsx("iframe",{style:a,src:"about:blank",ref:r,"aria-hidden":!0,tabIndex:-1,frameBorder:0})},u=function(e){return null!=e?{width:e.offsetWidth,height:e.offsetHeight}:null};e.exports=function(e){void 0===e&&(e=u);var t=s.useState(e(null)),r=t[0],n=t[1],i=s.useCallback((function(t){return n(e(t.current))}),[e]);return[s.useMemo((function(){return o.jsx(l,{onResize:i})}),[i]),r]}},5724:function(e,t,r){"use strict";r.r(t),r.d(t,{Mutation:function(){return Ae},Query:function(){return ke},Subscription:function(){return De}});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}Object.create;function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var l=r(5336),u="Invariant Violation",c=Object.setPrototypeOf,d=void 0===c?function(e,t){return e.__proto__=t,e}:c,f=function(e){function t(r){void 0===r&&(r=u);var n=e.call(this,"number"==typeof r?u+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=u,d(n,t.prototype),n}return o(t,e),t}(Error);function p(e,t){if(!e)throw new f(t)}var h=["debug","log","warn","error","silent"],v=h.indexOf("log");function m(e){return function(){if(h.indexOf(e)>=v)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=m("debug"),e.log=m("log"),e.warn=m("warn"),e.error=m("error")}(p||(p={}));var y="3.9.4";function b(e){try{return e()}catch(e){}}var g=b((function(){return globalThis}))||b((function(){return window}))||b((function(){return self}))||b((function(){return global}))||b((function(){return b.constructor("return this")()})),_=new Map;function w(e,t){void 0===t&&(t=0);var r,n,o=(r="stringifyForDisplay",n=_.get(r)||1,_.set(r,n+1),"".concat(r,":").concat(n,":").concat(Math.random().toString(36).slice(2)));return JSON.stringify(e,(function(e,t){return void 0===t?o:t}),t).split(JSON.stringify(o)).join("<undefined>")}function O(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"==typeof t){var o=t;(t=M(o))||(t=P(o,r),r=[])}e.apply(void 0,[t].concat(r))}}var C=Object.assign((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||p(e,M(t,r)||P(t,r))}),{debug:O(p.debug),log:O(p.log),warn:O(p.warn),error:O(p.error)});var E=Symbol.for("ApolloErrorMessageHandler_"+y);function S(e){return"string"==typeof e?e:w(e,2).slice(0,1e3)}function M(e,t){if(void 0===t&&(t=[]),e)return g[E]&&g[E](e,t.map(S))}function P(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:y,message:e,args:t.map(S)})))}globalThis.__DEV__;var V=r(4616),j=r.t(V,2),R="function"==typeof WeakMap&&!b((function(){return"ReactNative"==navigator.product&&!global.HermesInternal})),T="function"==typeof Symbol&&"function"==typeof Symbol.for,k=(T&&Symbol.asyncIterator,"function"==typeof b((function(){return window.document.createElement}))),A=b((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,D=k&&!A,N=!1,H=j.useSyncExternalStore||function(e,t,r){var n=t();!1===globalThis.__DEV__||N||n===t()||(N=!0,!1!==globalThis.__DEV__&&C.error(58));var o=V.useState({inst:{value:n,getSnapshot:t}}),i=o[0].inst,s=o[1];return D?V.useLayoutEffect((function(){Object.assign(i,{value:n,getSnapshot:t}),x(i)&&s({inst:i})}),[e,n,t]):Object.assign(i,{value:n,getSnapshot:t}),V.useEffect((function(){return x(i)&&s({inst:i}),e((function(){x(i)&&s({inst:i})}))}),[e]),n};function x(e){var t=e.value,r=e.getSnapshot;try{return t!==r()}catch(e){return!0}}const{toString:I,hasOwnProperty:L}=Object.prototype,F=Function.prototype.toString,U=new Map;function W(e,t){try{return q(e,t)}finally{U.clear()}}function q(e,t){if(e===t)return!0;const r=I.call(e);if(r!==I.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(B(e,t))return!0;const r=Q(e),n=Q(t),o=r.length;if(o!==n.length)return!1;for(let e=0;e<o;++e)if(!L.call(t,r[e]))return!1;for(let n=0;n<o;++n){const o=r[n];if(!q(e[o],t[o]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(B(e,t))return!0;const n=e.entries(),o="[object Map]"===r;for(;;){const e=n.next();if(e.done)break;const[r,i]=e.value;if(!t.has(r))return!1;if(o&&!q(i,t.get(r)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=F.call(e);return r===F.call(t)&&!function(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}(r,z)}}return!1}function Q(e){return Object.keys(e).filter($,e)}function $(e){return void 0!==this[e]}const z="{ [native code] }";function B(e,t){let r=U.get(e);if(r){if(r.has(t))return!0}else U.set(e,r=new Set);return r.add(t),!1}function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)}))})),r}function K(e,t){return G(e,t,t.variables&&{variables:G(i(i({},e&&e.variables),t.variables))})}var X=T?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function J(){C("createContext"in j,45);var e=V.createContext[X];return e||(Object.defineProperty(V.createContext,X,{value:e=V.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function Y(e){return null!==e&&"object"==typeof e}Symbol();var Z,ee=function(e){function t(r){var n,o,i=r.graphQLErrors,s=r.protocolErrors,l=r.clientErrors,u=r.networkError,c=r.errorMessage,d=r.extraInfo,f=e.call(this,c)||this;return f.name="ApolloError",f.graphQLErrors=i||[],f.protocolErrors=s||[],f.clientErrors=l||[],f.networkError=u||null,f.message=c||(o=a(a(a([],(n=f).graphQLErrors,!0),n.clientErrors,!0),n.protocolErrors,!0),n.networkError&&o.push(n.networkError),o.map((function(e){return Y(e)&&e.message||"Error message not found."})).join("\n")),f.extraInfo=d,f.__proto__=t.prototype,f}return o(t,e),t}(Error);function te(){}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Z||(Z={}));const re=te,ne="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},oe="undefined"!=typeof WeakMap?WeakMap:Map,ie="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:te,unregister:te}};class se{constructor(e=1/0,t=re){this.max=e,this.dispose=t,this.map=new oe,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const r=t.key;delete t.key,t.keyRef=new ne(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new ie(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var ae=new WeakSet;function le(e){ae.has(e)||(ae.add(e),setTimeout((function(){e.clean(),ae.delete(e)}),100))}var ue=function(e,t){var r=new se(e,t);return r.set=function(e,t){return le(this),se.prototype.set.call(this,e,t)},r},ce=Symbol.for("apollo.cacheSize"),de=i({},g[ce]),fe={};var pe,he,ve;globalThis.__DEV__,globalThis.__DEV__,globalThis.__DEV__;function me(){return{cache:{fragmentQueryDocuments:ye(this.getFragmentDoc)}}}function ye(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function be(e){return null!=e}function ge(e){return _e(e).map((function(e){return{cache:e}}))}function _e(e){return e?a(a([ye(null==e?void 0:e.performWork)],_e(null==e?void 0:e.left),!0),_e(null==e?void 0:e.right),!0).filter(be):[]}function we(e){var t;return e?a(a([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],we(null==e?void 0:e.left),!0),we(null==e?void 0:e.right),!0).filter(be):[]}function Oe(e){var t;switch(e){case pe.Query:t="Query";break;case pe.Mutation:t="Mutation";break;case pe.Subscription:t="Subscription"}return t}function Ce(e){he||(he=new ue(de.parser||1e3));var t,r,n=he.get(e);if(n)return n;C(!!e&&!!e.kind,59,e);for(var o=[],i=[],s=[],a=[],l=0,u=e.definitions;l<u.length;l++){var c=u[l];if("FragmentDefinition"!==c.kind){if("OperationDefinition"===c.kind)switch(c.operation){case"query":i.push(c);break;case"mutation":s.push(c);break;case"subscription":a.push(c)}}else o.push(c)}C(!o.length||i.length||s.length||a.length,60),C(i.length+s.length+a.length<=1,61,e,i.length,a.length,s.length),r=i.length?pe.Query:pe.Mutation,i.length||s.length||(r=pe.Subscription);var d=i.length?i:s.length?s:a;C(1===d.length,62,e,d.length);var f=d[0];t=f.variableDefinitions||[];var p={name:f.name&&"Name"===f.name.kind?f.name.value:"data",type:r,variables:t};return he.set(e,p),p}function Ee(e,t){var r=Ce(e),n=Oe(t),o=Oe(r.type);C(r.type===t,63,n,n,o)}function Se(e){var t=V.useContext(J()),r=e||t.client;return C(!!r,49),r}function Me(e){var t=new Set([e]);return t.forEach((function(e){Y(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(r){Y(e[r])&&t.add(e[r])}))})),e}function Pe(e){return!1!==globalThis.__DEV__&&Me(e),e}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(pe||(pe={})),Ce.resetCache=function(){he=void 0},!1!==globalThis.__DEV__&&(ve=function(){return he?he.size:0},fe["parser"]=ve);Array.isArray;function Ve(e){return Array.isArray(e)&&e.length>0}var je=Object.prototype.hasOwnProperty;function Re(e,t){return void 0===t&&(t=Object.create(null)),function(e,t){var r=V.useRef();r.current&&e===r.current.client&&t===r.current.query||(r.current=new Te(e,t,r.current));var n=r.current;return n.forceUpdateState=V.useReducer((function(e){return e+1}),0)[1],n}(Se(t.client),e).useQuery(t)}var Te=function(){function e(e,t,r){var n=this;this.client=e,this.query=t,this.forceUpdate=function(){return n.forceUpdateState()},this.ssrDisabledResult=Pe({loading:!0,data:void 0,error:void 0,networkStatus:Z.loading}),this.skipStandbyResult=Pe({loading:!1,data:void 0,error:void 0,networkStatus:Z.ready}),this.toQueryResultCache=new(R?WeakMap:Map),Ee(t,pe.Query);var o=r&&r.result,i=o&&o.data;i&&(this.previousData=i)}return e.prototype.forceUpdateState=function(){!1!==globalThis.__DEV__&&C.warn(51)},e.prototype.executeQuery=function(e){var t,r=this;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var n=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=(null===(t=this.result)||void 0===t?void 0:t.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise((function(e){var t;n.subscribe({next:function(e){t=e},error:function(){e(r.toQueryResult(r.observable.getCurrentResult()))},complete:function(){e(r.toQueryResult(t))}})}))},e.prototype.useQuery=function(e){var t=this;this.renderPromises=V.useContext(J()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),n=H(V.useCallback((function(e){if(t.renderPromises)return function(){};t.forceUpdate=e;var n=function(){var e=t.result,n=r.getCurrentResult();e&&e.loading===n.loading&&e.networkStatus===n.networkStatus&&W(e.data,n.data)||t.setResult(n)},o=function(e){if(i.unsubscribe(),i=r.resubscribeAfterError(n,o),!je.call(e,"graphQLErrors"))throw e;var s=t.result;(!s||s&&s.loading||!W(e,s.error))&&t.setResult({data:s&&s.data,error:e,loading:!1,networkStatus:Z.error})},i=r.subscribe(n,o);return function(){setTimeout((function(){return i.unsubscribe()})),t.forceUpdate=function(){return t.forceUpdateState()}}}),[r,this.renderPromises,this.client.disableNetworkFetches]),(function(){return t.getCurrentResult()}),(function(){return t.getCurrentResult()}));return this.unsafeHandlePartialRefetch(n),this.toQueryResult(n)},e.prototype.useOptions=function(t){var r,n=this.createWatchQueryOptions(this.queryHookOptions=t),o=this.watchQueryOptions;W(n,o)||(this.watchQueryOptions=n,o&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=(null===(r=this.result)||void 0===r?void 0:r.data)||this.previousData,this.result=void 0)),this.onCompleted=t.onCompleted||e.prototype.onCompleted,this.onError=t.onError||e.prototype.onError,!this.renderPromises&&!this.client.disableNetworkFetches||!1!==this.queryHookOptions.ssr||this.queryHookOptions.skip?this.queryHookOptions.skip||"standby"===this.watchQueryOptions.fetchPolicy?this.result=this.skipStandbyResult:this.result!==this.ssrDisabledResult&&this.result!==this.skipStandbyResult||(this.result=void 0):this.result=this.ssrDisabledResult},e.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(G(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(K)},e.prototype.createWatchQueryOptions=function(e){var t;void 0===e&&(e={});var r=e.skip,n=(e.ssr,e.onCompleted,e.onError,e.defaultOptions,s(e,["skip","ssr","onCompleted","onError","defaultOptions"])),o=Object.assign(n,{query:this.query});if(!this.renderPromises||"network-only"!==o.fetchPolicy&&"cache-and-network"!==o.fetchPolicy||(o.fetchPolicy="cache-first"),o.variables||(o.variables={}),r){var i=o.fetchPolicy,a=void 0===i?this.getDefaultFetchPolicy():i,l=o.initialFetchPolicy,u=void 0===l?a:l;Object.assign(o,{initialFetchPolicy:u,fetchPolicy:"standby"})}else o.fetchPolicy||(o.fetchPolicy=(null===(t=this.observable)||void 0===t?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return o},e.prototype.getDefaultFetchPolicy=function(){var e,t;return(null===(e=this.queryHookOptions.defaultOptions)||void 0===e?void 0:e.fetchPolicy)||(null===(t=this.client.defaultOptions.watchQuery)||void 0===t?void 0:t.fetchPolicy)||"cache-first"},e.prototype.onCompleted=function(e){},e.prototype.onError=function(e){},e.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=V.useMemo((function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}),[e]);var t=!(!1===this.queryHookOptions.ssr||this.queryHookOptions.skip);return this.renderPromises&&t&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},e.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e,t)},e.prototype.handleErrorOrCompleted=function(e,t){var r=this;if(!e.loading){var n=this.toApolloError(e);Promise.resolve().then((function(){n?r.onError(n):e.data&&(null==t?void 0:t.networkStatus)!==e.networkStatus&&e.networkStatus===Z.ready&&r.onCompleted(e.data)})).catch((function(e){!1!==globalThis.__DEV__&&C.warn(e)}))}},e.prototype.toApolloError=function(e){return Ve(e.errors)?new ee({graphQLErrors:e.errors}):e.error},e.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},e.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var r=e.data,n=(e.partial,s(e,["data","partial"]));return this.toQueryResultCache.set(e,t=i(i(i({data:r},n),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&Ve(e.errors)&&(t.error=new ee({graphQLErrors:e.errors})),t},e.prototype.unsafeHandlePartialRefetch=function(e){!e.partial||!this.queryHookOptions.partialRefetch||e.loading||e.data&&0!==Object.keys(e.data).length||"cache-only"===this.observable.options.fetchPolicy||(Object.assign(e,{loading:!0,networkStatus:Z.refetch}),this.observable.refetch())},e}();function ke(e){var t=e.children,r=Re(e.query,s(e,["children","query"]));return r?t(r):null}function Ae(e){var t=function(e,t){var r=Se(null==t?void 0:t.client);Ee(e,pe.Mutation);var n=V.useState({called:!1,loading:!1,client:r}),o=n[0],s=n[1],a=V.useRef({result:o,mutationId:0,isMounted:!0,client:r,mutation:e,options:t});Object.assign(a.current,{client:r,options:t,mutation:e});var l=V.useCallback((function(e){void 0===e&&(e={});var t=a.current,r=t.options,n=t.mutation,o=i(i({},r),{mutation:n}),l=e.client||a.current.client;a.current.result.loading||o.ignoreResults||!a.current.isMounted||s(a.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:l});var u=++a.current.mutationId,c=K(o,e);return l.mutate(c).then((function(t){var r,n,o=t.data,i=t.errors,d=i&&i.length>0?new ee({graphQLErrors:i}):void 0,f=e.onError||(null===(r=a.current.options)||void 0===r?void 0:r.onError);if(d&&f&&f(d,c),u===a.current.mutationId&&!c.ignoreResults){var p={called:!0,loading:!1,data:o,error:d,client:l};a.current.isMounted&&!W(a.current.result,p)&&s(a.current.result=p)}var h=e.onCompleted||(null===(n=a.current.options)||void 0===n?void 0:n.onCompleted);return d||null==h||h(t.data,c),t})).catch((function(t){var r;if(u===a.current.mutationId&&a.current.isMounted){var n={loading:!1,error:t,data:void 0,called:!0,client:l};W(a.current.result,n)||s(a.current.result=n)}var o=e.onError||(null===(r=a.current.options)||void 0===r?void 0:r.onError);if(o)return o(t,c),{data:void 0,errors:t};throw t}))}),[]),u=V.useCallback((function(){if(a.current.isMounted){var e={called:!1,loading:!1,client:r};Object.assign(a.current,{mutationId:0,result:e}),s(e)}}),[]);return V.useEffect((function(){return a.current.isMounted=!0,function(){a.current.isMounted=!1}}),[]),[l,i({reset:u},o)]}(e.mutation,e),r=t[0],n=t[1];return e.children?e.children(r,n):null}function De(e){var t=function(e,t){var r=V.useRef(!1),n=Se(null==t?void 0:t.client);Ee(e,pe.Subscription);var o=V.useState({loading:!(null==t?void 0:t.skip),error:void 0,data:void 0,variables:null==t?void 0:t.variables}),i=o[0],s=o[1];r.current||(r.current=!0,(null==t?void 0:t.onSubscriptionData)&&!1!==globalThis.__DEV__&&C.warn(t.onData?52:53),(null==t?void 0:t.onSubscriptionComplete)&&!1!==globalThis.__DEV__&&C.warn(t.onComplete?54:55));var a=V.useState((function(){return(null==t?void 0:t.skip)?null:n.subscribe({query:e,variables:null==t?void 0:t.variables,fetchPolicy:null==t?void 0:t.fetchPolicy,context:null==t?void 0:t.context})})),l=a[0],u=a[1],c=V.useRef(!1);V.useEffect((function(){return function(){c.current=!0}}),[]);var d=V.useRef({client:n,subscription:e,options:t});return V.useEffect((function(){var r,o,i,a,l=null==t?void 0:t.shouldResubscribe;"function"==typeof l&&(l=!!l(t)),(null==t?void 0:t.skip)?(!(null==t?void 0:t.skip)!=!(null===(r=d.current.options)||void 0===r?void 0:r.skip)||c.current)&&(s({loading:!1,data:void 0,error:void 0,variables:null==t?void 0:t.variables}),u(null),c.current=!1):(!1===l||n===d.current.client&&e===d.current.subscription&&(null==t?void 0:t.fetchPolicy)===(null===(o=d.current.options)||void 0===o?void 0:o.fetchPolicy)&&!(null==t?void 0:t.skip)==!(null===(i=d.current.options)||void 0===i?void 0:i.skip)&&W(null==t?void 0:t.variables,null===(a=d.current.options)||void 0===a?void 0:a.variables))&&!c.current||(s({loading:!0,data:void 0,error:void 0,variables:null==t?void 0:t.variables}),u(n.subscribe({query:e,variables:null==t?void 0:t.variables,fetchPolicy:null==t?void 0:t.fetchPolicy,context:null==t?void 0:t.context})),c.current=!1),Object.assign(d.current,{client:n,subscription:e,options:t})}),[n,e,t,c.current]),V.useEffect((function(){if(l){var e=!1,r=l.subscribe({next:function(r){var o,i;if(!e){var a={loading:!1,data:r.data,error:void 0,variables:null==t?void 0:t.variables};s(a),(null===(o=d.current.options)||void 0===o?void 0:o.onData)?d.current.options.onData({client:n,data:a}):(null===(i=d.current.options)||void 0===i?void 0:i.onSubscriptionData)&&d.current.options.onSubscriptionData({client:n,subscriptionData:a})}},error:function(r){var n,o;e||(s({loading:!1,data:void 0,error:r,variables:null==t?void 0:t.variables}),null===(o=null===(n=d.current.options)||void 0===n?void 0:n.onError)||void 0===o||o.call(n,r))},complete:function(){var t,r;e||((null===(t=d.current.options)||void 0===t?void 0:t.onComplete)?d.current.options.onComplete():(null===(r=d.current.options)||void 0===r?void 0:r.onSubscriptionComplete)&&d.current.options.onSubscriptionComplete())}});return function(){e=!0,setTimeout((function(){r.unsubscribe()}))}}}),[l]),i}(e.subscription,e);return e.children&&t?e.children(t):null}ke.propTypes={client:l.object,children:l.func.isRequired,fetchPolicy:l.string,notifyOnNetworkStatusChange:l.bool,onCompleted:l.func,onError:l.func,pollInterval:l.number,query:l.object.isRequired,variables:l.object,ssr:l.bool,partialRefetch:l.bool,returnPartialData:l.bool},Ae.propTypes={mutation:l.object.isRequired,variables:l.object,optimisticResponse:l.oneOfType([l.object,l.func]),refetchQueries:l.oneOfType([l.arrayOf(l.oneOfType([l.string,l.object])),l.func]),awaitRefetchQueries:l.bool,update:l.func,children:l.func.isRequired,onCompleted:l.func,onError:l.func,fetchPolicy:l.string},De.propTypes={subscription:l.object.isRequired,variables:l.object,children:l.func,onSubscriptionData:l.func,onData:l.func,onSubscriptionComplete:l.func,onComplete:l.func,shouldResubscribe:l.oneOfType([l.func,l.bool])}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},o.d(i,s),i},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";o(4824),o(4548),o(4144),o(2896),o(9344),o(1684)}()}();